# Contributor's Guide

## Quick Reference
--------------------**WIP**-------------------

| command | description |
| ------- | ----------- |
|         |             |

## Table of Contents

### Setup

- [Prerequisites](#prerequisites)
- [Forking the Project](#forking-the-project)
- [Create a Branch](#create-a-branch)
- [Set Up Postgres](#Set-Up-Postgres)
- [Set Up  SecurityAnalizer](#Set-Up-SecurityAnalizer)
- [Set up Docker](#Set-up-Docker)

### Make Changes

- [Run The Test Suite](#run-the-test-suite)

### Submit

- [Creating a Pull Request](#creating-a-pull-request)
- [Next Steps](#next-steps)
- [Other Resources](#other-resources)

## Setup

### Prerequisites

| Prerequisite                                                              | Version    |
| ------------------------------------------------------------------------- | ---------- |
| [Ruby](https://docs.mongodb.com/manual/administration/install-community/) | `~ `    |
| [Rails](https://github.com/mailhog/MailHog)                               | `~`     |
| [Postgres](http://nodejs.org)                                             | `~` |
| Python                                                                    | `~`     |

> _Updating to the latest releases is recommended_.

If Ruby, Pythond, Rails or Postgres are already installed on your machine, run the following commands to validate the versions:

```shell
python --version
postgres -v
ruby -v
rails -v
```

### Forking the Project

#### Setting Up Your System

1. Install [Git](https://git-scm.com/) or your favorite Git client.

#### Forking

1. Go to the top level SecurityAnalizer repository: <https://github.com/gmotzespina/SecurityAnalizer>
2. Click the "Fork" Button in the upper right hand corner of the interface ([More Details Here](https://help.github.com/articles/fork-a-repo/))
3. After the repository (repo) has been forked, you will be taken to your copy of the SecurityAnalizer repo at <https://github.com/yourUsername/SecurityAnalizer>

#### Cloning Your Fork

1. Open a Terminal / Command Line / Bash Shell in your projects directory (_i.e.: `/yourprojectdirectory/`_)
2. Clone your fork of SecurityAnalizer

```shell
$ git clone https://github.com/yourUsername/SecurityAnalizer.git
```

**(make sure to replace `yourUsername` with your GitHub username)**

This will download the entire repo to your projects directory.

#### Setup Your Upstream

1. Change directory to the new SecurityAnalizer directory (`cd SecurityAnalizer`)
2. Add a remote to the official SecurityAnalizer repo:

```shell
$ git remote add upstream https://github.com/gmotzespina/SecurityAnalizer
```

Congratulations, you now have a local copy of the SecurityAnalizer repo!

#### Maintaining Your Fork

Now that you have a copy of your fork, there is work you will need to do to keep it current.

##### Rebasing from Upstream

Do this prior to every time you create a branch for a PR:

1. Make sure you are on the `master` branch

```shell
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
```

If your aren't on `master`, resolve outstanding files / commits and checkout the `master` branch

```shell
$ git checkout master
```

2. Do a pull with rebase against `upstream`

```shell
$ git pull --rebase upstream master
```

This will pull down all of the changes to the master branch, without making an additional commit in your local repo.

3. (_Optional_) Force push your updated master branch to your GitHub fork

```shell
$ git push origin master --force
```

This will overwrite the master branch of your fork.

### Create a Branch

Before you start working, you will need to create a separate branch specific to the issue / feature you're working on. You will push your work to this branch.

#### Naming Your Branch

Name the branch something like `fix/xxx` or `feature/xxx` where `xxx` is a short description of the changes or feature you are attempting to add. For example `fix/email-login` would be a branch where you fix something specific to email login.

#### Adding Your Branch

To create a branch on your local machine (and switch to this branch):

```shell
$ git checkout -b [name_of_your_new_branch]
```

and to push to GitHub:

```shell
$ git push origin [name_of_your_new_branch]
```

**If you need more help with branching, take a look at [this](https://github.com/Kunena/Kunena-Forum/wiki/Create-a-new-branch-with-git-and-manage-branches).**

### Set Up Postgres
--------------------**WIP**-------------------

### Set Up SecurityAnalizer
--------------------**WIP**-------------------
Once you have SecurityAnalizer cloned, before you start the application, you first need to install all of the dependencies:

```bash
# Install Bundle dependencies
bundle install
```

--------------------**WIP**-------------------
```bash

```

Now navigate to your browser and open <http://localhost:3000>. If the app loads, congratulations â€“ you're all set.
### Set up Docker
How to run this project 

* Install docker and docker-compose

* to run the project do:

$ docker-compose build web

$ docker-compose run --rm web rails db:create db:migrate

$ docker-compose up web

### Make Changes

This bit is up to you!

### Run The Test Suite
--------------------**WIP**-------------------
When you're ready to share your code, run the test suite:

```shell
$  test
```

and ensure all tests pass.

### Creating a Pull Request

#### Important: ALWAYS EDIT ON A BRANCH

#### Methods

### Next Steps

#### If your PR is accepted

Once your PR is accepted, you may **delete** the branch you created to submit it.
This keeps your working fork clean.

You can do this with a press of a button on the GitHub PR interface. You can
delete the local copy of the branch with: `git branch -D branch/to-delete-name`

#### If your PR is rejected

If you have a local copy of the repo, you can make the requested changes and
amend your commit with: `git commit --amend` This will update your existing
commit. When you push it to your fork you will need to do a force push to
overwrite your old commit: `git push --force`

Be sure to post in the PR conversation that you have made the requested changes.


### TL;DR: Steps to make a change

* [ ] [Make sure you are on the `master` branch and you're up-to-date.](#Rebasing-from-Upstream)

- [ ] [Create a Branch. **DON'T forget to name your branch correctly.**](#Create-a-Branch)

- [ ] Make the changes.

- [ ] Create a Pull Request.

- [ ] **WAIT FOR THE CODE REVIEW** Don't merge your onw changes.

- [ ] [If your pull request was rejected, update your existing commit.](#If-your-PR-is-rejected)
- [ ] else Congratulations!!ðŸŽ‰