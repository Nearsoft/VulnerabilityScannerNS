# frozen_string_literal: true

include BCrypt

class ConfigurationController < ApplicationController
  def show; end

  def edit
    @user = User.find(params[:id])
  end

  def update
    @user = User.find(params[:id])

    post_params = params.require(:user).permit(:email, :encrypted_password)

    password = Password.create(post_params[:encrypted_password])

    @user.update(email: post_params[:email], encrypted_password: password)

    redirect_to home_path
  end

  def destroy
    @user = current_user

    @user.soft_delete

    redirect_to home_path
  end
end
