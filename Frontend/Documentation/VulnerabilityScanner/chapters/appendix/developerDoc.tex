\section{Developer Documentation}

\subsection{Installing Docker}

Update the apt package index: 
    \begin{minted}{bash}
        $ wget http://tex.stackexchange.com
    \end{minted}

Install packages to allow apt to use repository over HTTPS:
    \begin{minted}{bash}
        $ sudo apt-get install apt-transport-https
        ca-certificates curl software-properties-common
    \end{minted}

Add Dockerâ€™s official GPG key
    \begin{minted}{bash}
        $ curl -fsSL https://download.docker.com/linux
        /ubuntu/gpg | sudo apt-key add -
    \end{minted}

Set up the stable repository (copy and paste all line in one go)

    \begin{minted}{bash}
	$ sudo add-apt-repository \
   	"deb [arch=amd64] https://download.docker.com/linux/ubuntu \
        $(lsb_release -cs) \ 
   	stable"
    \end{minted}

Update the apt package index.

    \begin{minted}{bash}
	$ sudo apt-get update
    \end{minted}

Install the latest version of Docker CE

    \begin{minted}{bash}
        $ sudo apt-get install docker-ce
    \end{minted}

Verify that Docker CE is installed correctly by running the hello-world image.
	
	\begin{minted}{bash}
	$ sudo docker run hello world
    \end{minted}
    
Create the docker group.

    \begin{minted}{bash}
	$ sudo groupadd docker
    \end{minted}

Add your user to the docker group.

    \begin{minted}{bash}	
	$ sudo usermod -aG docker $USER
    \end{minted}

Restart the machine 

    \begin{minted}{bash}
	$ sudo reboot
    \end{minted}

Verify that you can run docker commands without sudo

    \begin{minted}{bash}
	$ docker run hello-world
    \end{minted}

Run this command to download the latest version of Docker Compose:

    \begin{minted}{bash}
     $ sudo curl -L "https://github.com/docker/compose/releases
    /download/1.22.0/docker-compose-$(uname -s)-$(uname -m)" -o 
    /usr/local/bin/docker-compose	
    \end{minted}


Apply executable permissions to the binary

    \begin{minted}{bash}
	$ sudo chmod +x /usr/local/bin/docker-compose
    \end{minted}

Test the installation 

    \begin{minted}{bash}
	$ docker-compose --version
    \end{minted}
    
\subsection{Cloning the repositories}

Create a new directory with any name you like

     \begin{minted}{bash}
	$ mkdir VulScanner & cd VulScanner
	\end{minted}

\subsubsection{Cloning and building the python server}

Clone the python server repository inside the folder 
     \begin{minted}{bash}
	$ git clone https://github.com/gmotzespina/VulnerabilityScannerPython
    \end{minted}
    
Move inside the new folder 

     \begin{minted}{bash}
	$ cd VulnerabilityScannerPython
    \end{minted}
    
Run the following command to build the docker image, this is a necessary step in order to run the the ruby client as it depends on this image 
     \begin{minted}{bash}
	$ docker build -t python-scanner . 
    \end{minted}
    
Note that is has a dot at the end

\subsubsection{Cloning the rails app}

Move one directory back and clone the ruby app 
  
  \begin{minted}{bash}
	$ cd ..
	$ git clone https://github.com/gmotzespina/VulnerabilityScanner
   \end{minted}

Move inside the new directory 

  \begin{minted}{bash}
	$ cd VulnerabilityScanner
  \end{minted}

Build the docker image 

  \begin{minted}{bash}
	$ docker-compose build web 
    \end{minted}

Run the rails migrations and database seeding  

  \begin{minted}{bash}
	$ docker-compose run --rm web rails db:create db:migrate
    $ docker-compose run --rm web rake db:seed 
\end{minted}

Run the rails server, this will automatically start the db server and the python server 

  \begin{minted}{bash}
	$ docker-compose up web
   \end{minted}

\subsection{Utilities}
Show mounted images 
    \begin{minted}{bash}
    Docker ps -a 
    \end{minted}